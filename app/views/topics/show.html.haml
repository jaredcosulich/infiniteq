.col-sm-12
  - if notice.present?
    %p#notice= notice

  - if @topic.parent_topic.present?
    %p.small
      Topic: 
      = (@topic.parent_path + [@topic]).map { |topic| link_to(topic.title, topic) }.join(' > ').html_safe

  %h3
    = @topic.title

  %h6= @topic.description

  .ask_a_question
    %h4 Ask A Question
    = form_for @question, html: {class: 'form-inline'} do |f|
      .form-group
        = f.text_field :text, class: 'form-control', placeholder: "Your Question about #{@topic.title}"
        = f.hidden_field :topic_id
        = f.submit 'Ask', class: 'btn btn-default'

  %p
    %strong Subtopics:
    - @topic.subtopics.each do |subtopic|
      = link_to(subtopic.title, subtopic)
    = link_to 'Create A New Subtopic', new_topic_path(parent_topic_id: @topic.id)

  %br

  %h4 Questions
  .questions
    - @topic.questions.persisted.each do |question|
      .question
        %strong.title Q:
        = link_to(question.text, question)
    - if @topic.questions.persisted.empty?
      %br
      %h5 No questions have been asked yet.
